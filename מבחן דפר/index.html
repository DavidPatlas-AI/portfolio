<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××¢×¨×›×ª ×”×›× ×” ×œ××‘×—×Ÿ ×“×¤"×¨</title>
    <meta name="description" content="××¢×¨×›×ª ××™× ×˜×¨××§×˜×™×‘×™×ª ×œ×”×›× ×” ×œ××‘×—×Ÿ ×“×¤×´×¨ ×¢× ×›×œ×™ AI ××ª×§×“××™×">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3498db">
    <link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png">
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <h1>××¢×¨×›×ª ×”×›× ×” ×œ××‘×—×Ÿ ×“×¤"×¨</h1>
        <div class="timer-container">
            <span id="timer">45:00</span>
            <button id="timerControl">×”×ª×—×œ</button>
        </div>
    </div>

    <!-- Control Panel -->
    <div class="control-panel">
        <!-- Test Type Selector -->
        <div class="test-type-selector">
            <button class="test-type-btn active" data-type="practice">×ª×¨×’×•×œ ×—×•×¤×©×™</button>
            <button class="test-type-btn" data-type="exam">××‘×—×Ÿ ××œ×</button>
            <button class="test-type-btn" data-type="quick">×ª×¨×’×•×œ ××”×™×¨</button>
        </div>

        <!-- Navigation Buttons -->
        <div class="navigation-buttons">
            <!-- Will be populated by JavaScript -->
        </div>

        <!-- Utility Buttons -->
        <div class="utility-buttons">
            <button class="util-btn" onclick="showStats()">×¡×˜×˜×™×¡×˜×™×§×•×ª</button>
            <button class="util-btn" onclick="showMarked()">×©××œ×•×ª ××¡×•×× ×•×ª</button>
            <button class="util-btn" onclick="toggleTips()">×˜×™×¤×™×</button>
            <button class="util-btn" onclick="showMistakes()">× ×™×ª×•×— ×˜×¢×•×™×•×ª</button>
        </div>

        <!-- Test Tools -->
        <div class="test-tools">
            <button class="tool-btn" data-tool="calculator">××—×©×‘×•×Ÿ</button>
            <button class="tool-btn" data-tool="drawingPad">×“×£ ×˜×™×•×˜×”</button>
            <button class="tool-btn" data-tool="formulas">× ×•×¡×—××•×ª</button>
        </div>

        <!-- Quick Access -->
        <div class="quick-access">
            <button onclick="window.location.href='gallery.html'" class="util-btn" style="background: linear-gradient(45deg, #667eea, #764ba2); color: white;">ğŸ¨ ×’×œ×¨×™×™×ª ×›×œ×™×</button>
            <button onclick="window.location.href='××‘×—×Ÿ ×“×¤×¨/index.html'" class="util-btn" style="background: linear-gradient(45deg, #3498db, #2ecc71); color: white;">ğŸ“š ××¢×¨×›×ª ××œ××”</button>
            <button onclick="window.location.href='Untitled-1.html'" class="util-btn" style="background: linear-gradient(45deg, #9b59b6, #8e44ad); color: white;">ğŸ’¾ ×’×¨×¡×” ××•×¤×œ×™×™×Ÿ</button>
            <button onclick="window.open('http://localhost:8001', '_blank')" class="util-btn" style="background: linear-gradient(45deg, #e74c3c, #c0392b); color: white;">ğŸš€ ×©×¨×ª ××§×•××™</button>
        </div>
    </div>

    <!-- Score Display -->
    <div class="score-display">
        <!-- Will be populated by JavaScript -->
    </div>

    <!-- Main Question Window -->
    <div class="window">
        <div class="welcome-message">
            <h2>ğŸ“ ×‘×¨×•×›×™× ×”×‘××™× ×œ××¢×¨×›×ª ×”×›× ×” ×œ××‘×—×Ÿ ×“×¤"×¨</h2>
            <p>×‘×—×¨×• ××—×“ ××”×›×œ×™× ×”×–××™× ×™× ××• ×¢×‘×¨×• ×œ×’×œ×¨×™×” ×œ×’×™×©×” ××œ××” ×œ×›×œ ×”×›×œ×™×.</p>
            
            <div class="features-grid">
                <div class="feature-card">
                    <h3>ğŸ”¤ ×× ×œ×•×’×™×•×ª ××™×œ×•×œ×™×•×ª</h3>
                    <p>×ª×¨×’×•×œ ××ª×§×“× ×œ×× ×œ×•×’×™×•×ª ××™×œ×•×œ×™×•×ª</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸ”¢ ×”×©×œ××ª ×¡×“×¨×•×ª</h3>
                    <p>×ª×¨×’×•×œ ×¡×“×¨×•×ª ××¡×¤×¨×™× ×¢× ×”×¡×‘×¨×™×</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸ”· ×¡×“×¨×•×ª ×¦×•×¨×•×ª</h3>
                    <p>×–×™×”×•×™ ×“×¤×•×¡×™× ×‘×¦×•×¨×•×ª ×’×™××•××˜×¨×™×•×ª</p>
                </div>
                <div class="feature-card">
                    <h3>â• ×—×©×™×‘×” ×›××•×ª×™×ª</h3>
                    <p>×©××œ×•×ª ××ª××˜×™×§×” ×•×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸ§  ×”×™×¡×§×™× ×œ×•×’×™×™×</h3>
                    <p>×¤×™×ª×•×— ×—×©×™×‘×” ×œ×•×’×™×ª ×•×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª</p>
                </div>
                <div class="feature-card">
                    <h3>ğŸ› ï¸ ×›×œ×™ ×¢×–×¨</h3>
                    <p>××—×©×‘×•×Ÿ, ×“×£ ×˜×™×•×˜×” ×•× ×•×¡×—××•×ª</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Tool Windows -->
    <div id="calculator" class="tool-window" style="display: none;">
        <h3>××—×©×‘×•×Ÿ</h3>
        <div class="calculator-grid">
            <!-- Will be populated by JavaScript -->
        </div>
    </div>

    <div id="drawingPad" class="tool-window" style="display: none;">
        <h3>×“×£ ×˜×™×•×˜×”</h3>
        <canvas id="drawingCanvas" width="300" height="400"></canvas>
        <div class="drawing-tools">
            <input type="color" id="colorPicker" value="#000000">
            <input type="range" id="brushSize" min="1" max="20" value="5">
            <button class="clear-drawing">× ×§×”</button>
        </div>
    </div>

    <div id="formulas" class="tool-window" style="display: none;">
        <h3>× ×•×¡×—××•×ª ×©×™××•×©×™×•×ª</h3>
        <div class="formulas-content">
            <div class="formula-category">
                <h4>×’×™××•××˜×¨×™×”</h4>
                <p>×©×˜×— ××œ×‘×Ÿ = ××•×¨×š Ã— ×¨×•×—×‘</p>
                <p>×©×˜×— ××©×•×œ×© = (×‘×¡×™×¡ Ã— ×’×•×‘×”) Ã· 2</p>
                <p>×©×˜×— ××¢×’×œ = Ï€rÂ²</p>
            </div>
            <div class="formula-category">
                <h4>××œ×’×‘×¨×”</h4>
                <p>(a + b)Â² = aÂ² + 2ab + bÂ²</p>
                <p>(a - b)Â² = aÂ² - 2ab + bÂ²</p>
            </div>
        </div>
    </div>

    <!-- Offline Support -->
    <div id="offlineStatus" style="display: none;">
        ××™×Ÿ ×—×™×‘×•×¨ ×œ××™× ×˜×¨× ×˜. ×”××¢×¨×›×ª ×¤×•×¢×œ×ª ×‘××¦×‘ ×œ× ××§×•×•×Ÿ.
    </div>

    <!-- Scripts -->
    <script type="module" src="××‘×—×Ÿ ×“×¤×¨/src/js/main.js"></script>
    <script>
        // If main.js fails to load, disable the module functionality
        setTimeout(() => {
            console.log('ğŸ“ ××¢×¨×›×ª ××‘×—×Ÿ ×“×¤×¨ × ×˜×¢× ×” ×‘×”×¦×œ×—×” (×’×¨×¡×” ×‘×¡×™×¡×™×ª)!');
        }, 100);
    </script>
    <script>
        // Fallback functionality - remove module dependencies</script>
    <script>
        // Basic functionality for demo
        let timer = 45 * 60; // 45 minutes
        let timerInterval;
        let isTimerRunning = false;

        function updateTimerDisplay() {
            const minutes = Math.floor(timer / 60);
            const seconds = timer % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function toggleTimer() {
            const button = document.getElementById('timerControl');
            
            if (!isTimerRunning) {
                timerInterval = setInterval(() => {
                    timer--;
                    updateTimerDisplay();
                    if (timer <= 0) {
                        clearInterval(timerInterval);
                        alert('×–××Ÿ ×”××‘×—×Ÿ ×”×¡×ª×™×™×!');
                        button.textContent = '×”×ª×—×œ';
                        isTimerRunning = false;
                    }
                }, 1000);
                button.textContent = '×¢×¦×•×¨';
                isTimerRunning = true;
            } else {
                clearInterval(timerInterval);
                button.textContent = '×”×ª×—×œ';
                isTimerRunning = false;
            }
        }

        document.getElementById('timerControl').addEventListener('click', toggleTimer);

        // Test type selection
        document.querySelectorAll('.test-type-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.test-type-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const type = this.getAttribute('data-type');
                const window = document.querySelector('.window .welcome-message');
                
                if (type === 'practice') {
                    timer = 45 * 60; // 45 minutes
                    window.innerHTML = '<h2>ğŸ¯ ××¦×‘ ×ª×¨×’×•×œ ×—×•×¤×©×™</h2><p>×ª×¨×’×œ×• ×œ×œ× ×œ×—×¥ ×–××Ÿ ×¢× ×”×¡×‘×¨×™× ××¤×•×¨×˜×™×</p>';
                } else if (type === 'exam') {
                    timer = 45 * 60; // 45 minutes
                    window.innerHTML = '<h2>ğŸ“ ××‘×—×Ÿ ××œ×</h2><p>××‘×—×Ÿ ××“×•××” ×‘×ª× ××™ ×–××Ÿ ×××™×ª×™×™× - 45 ×“×§×•×ª</p>';
                } else if (type === 'quick') {
                    timer = 15 * 60; // 15 minutes
                    window.innerHTML = '<h2>âš¡ ×ª×¨×’×•×œ ××”×™×¨</h2><p>×ª×¨×’×•×œ ×§×¦×¨ ×©×œ 15 ×“×§×•×ª ×œ×—×–×¨×” ××”×™×¨×”</p>';
                }
                
                updateTimerDisplay();
            });
        });

        // Tool functionality
        document.querySelectorAll('.tool-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const tool = this.getAttribute('data-tool');
                const toolWindow = document.getElementById(tool);
                
                if (toolWindow.style.display === 'none' || !toolWindow.style.display) {
                    toolWindow.style.display = 'block';
                    this.style.background = '#e74c3c';
                } else {
                    toolWindow.style.display = 'none';
                    this.style.background = '#3498db';
                }
            });
        });

        // Basic calculator functionality
        function createCalculator() {
            const grid = document.querySelector('.calculator-grid');
            if (!grid) return;
            
            const buttons = [
                'C', 'Â±', '%', 'Ã·',
                '7', '8', '9', 'Ã—',
                '4', '5', '6', '-',
                '1', '2', '3', '+',
                '0', '.', '='
            ];
            
            let display = document.createElement('input');
            display.type = 'text';
            display.readOnly = true;
            display.value = '0';
            display.style.cssText = 'grid-column: span 4; padding: 10px; font-size: 18px; text-align: left;';
            grid.appendChild(display);
            
            buttons.forEach(btn => {
                const button = document.createElement('button');
                button.textContent = btn;
                button.style.cssText = 'padding: 15px; font-size: 16px; margin: 2px;';
                if (btn === '0') button.style.gridColumn = 'span 2';
                
                button.addEventListener('click', () => {
                    if (btn === 'C') {
                        display.value = '0';
                    } else if (btn === '=') {
                        try {
                            const result = eval(display.value.replace('Ã—', '*').replace('Ã·', '/'));
                            display.value = result;
                        } catch {
                            display.value = '×©×’×™××”';
                        }
                    } else {
                        if (display.value === '0' && !isNaN(btn)) {
                            display.value = btn;
                        } else {
                            display.value += btn;
                        }
                    }
                });
                
                grid.appendChild(button);
            });
        }

        // Drawing pad functionality
        function setupDrawingPad() {
            const canvas = document.getElementById('drawingCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            let isDrawing = false;
            
            canvas.addEventListener('mousedown', (e) => {
                isDrawing = true;
                ctx.beginPath();
                const rect = canvas.getBoundingClientRect();
                ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
            });
            
            canvas.addEventListener('mousemove', (e) => {
                if (!isDrawing) return;
                const rect = canvas.getBoundingClientRect();
                const colorPicker = document.getElementById('colorPicker');
                const brushSize = document.getElementById('brushSize');
                
                ctx.strokeStyle = colorPicker.value;
                ctx.lineWidth = brushSize.value;
                ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
                ctx.stroke();
            });
            
            canvas.addEventListener('mouseup', () => isDrawing = false);
            
            document.querySelector('.clear-drawing').addEventListener('click', () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            });
        }

        // Basic utility functions
        function showStats() {
            alert('×¡×˜×˜×™×¡×˜×™×§×•×ª: ×¢×“×™×™×Ÿ ×œ× ×¤×•×ª×— ×‘××œ×•××•. ×”×©×ª××©×• ×‘××¢×¨×›×ª ×”××œ××” ×œ×¤×•× ×§×¦×™×•× ×œ×™×•×ª ××œ××”.');
        }

        function showMarked() {
            alert('×©××œ×•×ª ××¡×•×× ×•×ª: ×¢×“×™×™×Ÿ ×œ× ×¤×•×ª×— ×‘××œ×•××•.');
        }

        function toggleTips() {
            const tips = document.createElement('div');
            tips.innerHTML = `
                <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); 
                           background: white; padding: 20px; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); 
                           z-index: 1000; max-width: 500px;">
                    <h3>ğŸ’¡ ×˜×™×¤×™× ×œ××‘×—×Ÿ ×“×¤"×¨</h3>
                    <ul style="text-align: right;">
                        <li>×§×¨××• ××ª ×”×©××œ×” ×‘×¢×™×•×Ÿ ×œ×¤× ×™ ××¢×‘×¨ ×œ×ª×©×•×‘×•×ª</li>
                        <li>×”×©×ª××©×• ×‘×˜×›× ×™×§×ª ×”×œ×•×’×™×§×” ×œ×¤×ª×¨×•×Ÿ ×× ×œ×•×’×™×•×ª</li>
                        <li>×‘×¡×“×¨×•×ª ××¡×¤×¨×™×, ×—×¤×©×• ××ª ×”×”×¤×¨×© ××• ×”×™×—×¡</li>
                        <li>×¡×× ×• ×©××œ×•×ª ×©××ª× ×œ× ×‘×˜×•×—×™× ×‘×”×Ÿ ×œ×—×–×¨×”</li>
                        <li>× ×”×œ×• ××ª ×”×–××Ÿ - ×—×œ×§×• ××•×ª×• ×‘××•×¤×Ÿ ×©×•×•×”</li>
                    </ul>
                    <button onclick="this.parentElement.remove()" style="float: left; padding: 10px;">×¡×’×•×¨</button>
                </div>
            `;
            document.body.appendChild(tips);
        }

        function showMistakes() {
            alert('× ×™×ª×•×— ×˜×¢×•×™×•×ª: ×–××™×Ÿ ×‘××¢×¨×›×ª ×”××œ××” ×¢× ××¢×§×‘ ××—×¨ ×”×ª×§×“××•×ª.');
        }

        // Initialize tools
        setTimeout(() => {
            createCalculator();
            setupDrawingPad();
        }, 100);

        updateTimerDisplay();
        
        console.log('ğŸ“ ××¢×¨×›×ª ××‘×—×Ÿ ×“×¤"×¨ × ×˜×¢× ×” ×‘×”×¦×œ×—×”!');
    </script>

    <style>
        .quick-access {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .welcome-message {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            margin: 20px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .feature-card p {
            color: #666;
            font-size: 0.9rem;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px;
            max-width: 300px;
        }

        .tool-window {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            z-index: 1000;
            max-width: 90vw;
            max-height: 90vh;
            overflow: auto;
        }

        .drawing-tools {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .formula-category {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .formula-category h4 {
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .formula-category p {
            margin: 5px 0;
            font-family: monospace;
            background: white;
            padding: 5px;
            border-radius: 4px;
            direction: ltr;
            text-align: left;
        }

        @media (max-width: 768px) {
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .tool-window {
                width: 95vw;
                height: 95vh;
                top: 2.5vh;
                left: 2.5vw;
                transform: none;
            }
        }
    </style>
</body>
</html> 