<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×ª×—×¤×©× ×™ - ×–×™×”×•×™ ×”×•××•×’×œ×™×¤×™× ×•×ª×‘× ×™×•×ª ×¤×™×©×™× ×’</title>
    <style>
        * { box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            margin: 0; 
            padding: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container { max-width: 1200px; margin: 0 auto; }
        
        .header { 
            text-align: center; 
            color: white; 
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        .header h1 { 
            font-size: 3.5em; 
            margin: 0; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p { 
            font-size: 1.3em; 
            margin: 15px 0; 
            opacity: 0.9;
        }

        .card { 
            background: white; 
            padding: 30px; 
            border-radius: 20px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .tabs { 
            display: flex; 
            justify-content: center; 
            gap: 15px; 
            margin-bottom: 30px; 
            flex-wrap: wrap;
        }
        
        .tab-btn { 
            padding: 15px 25px; 
            background: rgba(255,255,255,0.2); 
            color: white; 
            border: none; 
            border-radius: 12px; 
            cursor: pointer; 
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .tab-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }
        
        .tab-btn.active { 
            background: white; 
            color: #667eea; 
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        .input-group { margin-bottom: 25px; }
        .input-group label { 
            display: block; 
            font-weight: bold; 
            margin-bottom: 10px; 
            font-size: 18px; 
            color: #2c3e50;
        }
        .input-group textarea, .input-group input { 
            width: 100%; 
            padding: 18px; 
            border: 2px solid #e1e8ed; 
            border-radius: 12px; 
            font-size: 16px;
            font-family: 'Courier New', monospace;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }
        .input-group textarea:focus, .input-group input:focus { 
            outline: none; 
            border-color: #667eea; 
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn { 
            padding: 15px 30px; 
            background: linear-gradient(135deg, #667eea, #764ba2); 
            color: white; 
            border: none; 
            border-radius: 12px; 
            cursor: pointer; 
            font-size: 18px; 
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        .btn:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }
        
        .btn-small { padding: 10px 20px; font-size: 14px; }
        .btn-secondary { 
            background: linear-gradient(135deg, #6c757d, #495057); 
            box-shadow: 0 4px 15px rgba(108, 117, 125, 0.3);
        }
        .btn-green { 
            background: linear-gradient(135deg, #28a745, #20c997); 
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        .btn-blue { 
            background: linear-gradient(135deg, #007bff, #0056b3); 
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
        }
        
        .output-box { 
            background: #f8f9fa; 
            border: 2px solid #dee2e6; 
            border-radius: 12px; 
            padding: 20px; 
            font-family: 'Courier New', monospace; 
            font-size: 16px; 
            min-height: 120px;
            white-space: pre-wrap;
            word-break: break-all;
        }
        
        .output-clean { 
            background: linear-gradient(135deg, #d4edda, #c3e6cb); 
            border-color: #28a745;
            color: #155724;
        }
        .highlight { 
            background: linear-gradient(135deg, #ffebee, #ffcdd2); 
            color: #c62828; 
            padding: 3px 6px; 
            border-radius: 6px; 
            font-weight: bold;
            border: 1px solid #ef5350;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(198, 40, 40, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(198, 40, 40, 0); }
            100% { box-shadow: 0 0 0 0 rgba(198, 40, 40, 0); }
        }
        
        .results { margin-top: 30px; }
        .results-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 25px; 
            margin-bottom: 25px; 
        }
        @media (max-width: 768px) { .results-grid { grid-template-columns: 1fr; } }
        
        .analysis { 
            background: linear-gradient(135deg, #fff3cd, #ffeaa7); 
            border: 2px solid #ffc107; 
            border-radius: 15px; 
            padding: 25px;
        }
        
        .analysis-success { 
            background: linear-gradient(135deg, #d4edda, #a3d9a4); 
            border-color: #28a745;
            color: #155724;
        }
        .analysis-danger { 
            background: linear-gradient(135deg, #f8d7da, #f1b0b7); 
            border-color: #dc3545;
            color: #721c24;
        }
        
        .radio-group { 
            display: flex; 
            gap: 20px; 
            justify-content: center; 
            flex-wrap: wrap; 
            margin: 20px 0;
        }
        .radio-group label { 
            display: flex; 
            align-items: center; 
            padding: 12px 20px; 
            border: 2px solid #e1e8ed; 
            border-radius: 12px; 
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            font-weight: 500;
        }
        .radio-group label:hover { 
            border-color: #667eea; 
            background: #f8f9ff;
        }
        .radio-group input[type="radio"] { margin-left: 8px; }
        
        .examples { margin-top: 15px; text-align: center; }
        .examples button { margin: 8px; }
        
        .warning { 
            background: linear-gradient(135deg, #fff3cd, #ffeaa7); 
            border: 2px solid #ffc107; 
            border-radius: 15px; 
            padding: 25px; 
            margin-top: 40px;
            text-align: center;
        }
        
        .table-container { 
            overflow-x: auto; 
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        table { 
            width: 100%; 
            border-collapse: collapse; 
            background: white; 
            border-radius: 15px; 
            overflow: hidden;
        }
        th, td { 
            padding: 15px; 
            border: 1px solid #e1e8ed; 
            text-align: center;
        }
        th { 
            background: linear-gradient(135deg, #667eea, #764ba2); 
            color: white; 
            font-weight: bold;
            font-size: 16px;
        }
        tr:nth-child(even) { background: #f8f9fa; }
        tr:hover { 
            background: linear-gradient(135deg, #e3f2fd, #bbdefb); 
        }
        
        .char-display { 
            font-size: 28px; 
            font-family: 'Courier New', monospace; 
            font-weight: bold;
        }
        
        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 25px; 
            margin-bottom: 30px;
        }
        
        .template-card { 
            background: white; 
            padding: 25px; 
            border-radius: 15px; 
            cursor: pointer; 
            text-align: center; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .template-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .icon { 
            font-size: 50px; 
            margin-bottom: 15px;
        }
        
        .viewer { 
            display: none; 
            background: white; 
            padding: 30px; 
            margin-top: 30px; 
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        
        .preview { 
            border: 3px solid #667eea; 
            padding: 20px; 
            margin: 20px 0; 
            background: #f8f9fa;
            border-radius: 12px;
        }
        
        .code { 
            background: linear-gradient(135deg, #2d3748, #1a202c); 
            color: #e2e8f0; 
            padding: 25px; 
            margin: 20px 0; 
            border-radius: 12px; 
            overflow-x: auto;
        }
        
        .tips { 
            background: linear-gradient(135deg, #fff3cd, #ffeaa7); 
            padding: 20px; 
            margin: 20px 0; 
            border-radius: 12px;
            border: 2px solid #ffc107;
            font-weight: 500;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        @media (max-width: 768px) {
            .header h1 { font-size: 2.5em; }
            .container { padding: 0 15px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” ×ª×—×¤×©× ×™</h1>
            <p>×›×œ×™ ××ª×§×“× ×œ×–×™×”×•×™ ×”×•××•×’×œ×™×¤×™× ×•× ×™×ª×•×— ×ª×‘× ×™×•×ª ×¤×™×©×™× ×’</p>
            <p style="font-size: 1em; opacity: 0.8;">×œ××˜×¨×•×ª ×—×™× ×•×›×™×•×ª ×•××—×§×¨ ××‘×˜×—×ª ××™×“×¢ ×‘×œ×‘×“</p>
        </div>

        <!-- Navigation -->
        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('detect')">ğŸ” ×–×™×”×•×™ ×”×•××•×’×œ×™×¤×™×</button>
            <button class="tab-btn" onclick="showTab('generate')">ğŸ² ×™×¦×™×¨×ª ×˜×§×¡×˜ ××ª×—×¤×©</button>
            <button class="tab-btn" onclick="showTab('table')">ğŸ“Š ×˜×‘×œ×ª ×ª×•×•×™×</button>
            <button class="tab-btn" onclick="showTab('templates')">ğŸ­ ×ª×‘× ×™×•×ª ×¤×™×©×™× ×’</button>
        </div>
        
        <!-- Detection Tab -->
        <div id="detect" class="tab-content active">
            <div class="card">
                <div class="input-group">
                    <label>ğŸ” ×”×“×‘×§ ×˜×§×¡×˜ ×œ×‘×“×™×§×ª ×”×•××•×’×œ×™×¤×™×:</label>
                    <textarea id="detectInput" rows="5" placeholder="× ×¡×” ×œ×”×“×‘×™×§: DĞ°vid (David ×¢× ××•×ª 'a' ×¨×•×¡×™×ª), gĞ¾Ğ¾glĞµ.ÑĞ¾m, Ñ€Ğ°yÑ€Ğ°l.com"></textarea>
                    <div class="examples">
                        <button class="btn btn-small btn-secondary" onclick="setExample('DĞ°vid')">ğŸ“ David ××–×•×™×£</button>
                        <button class="btn btn-small btn-secondary" onclick="setExample('gĞ¾Ğ¾glĞµ.ÑĞ¾m')">ğŸ“ Google ××–×•×™×£</button>
                        <button class="btn btn-small btn-secondary" onclick="setExample('Ñ€Ğ°yÑ€Ğ°l.com')">ğŸ“ PayPal ××–×•×™×£</button>
                        <button class="btn btn-small btn-secondary" onclick="setExample('miÑrĞ¾sĞ¾ft.com')">ğŸ“ Microsoft ××–×•×™×£</button>
                        <button class="btn btn-small btn-secondary" onclick="setExample('Ğ°pplĞµ.com')">ğŸ“ Apple ××–×•×™×£</button>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="analyzeText()">ğŸ” ×‘×“×•×§ ×˜×§×¡×˜</button>
                </div>
                
                <div id="detectResults" class="results" style="display: none;">
                    <div class="stats-container" id="statsContainer" style="display: none;">
                        <div class="stat-card">
                            <div class="stat-number" id="suspiciousCount">0</div>
                            <div class="stat-label">×ª×•×•×™× ×—×©×•×“×™×</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="riskLevel">× ××•×š</div>
                            <div class="stat-label">×¨××ª ×¡×™×›×•×Ÿ</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="cleanPercentage">100%</div>
                            <div class="stat-label">×˜×§×¡×˜ ×ª×§×™×Ÿ</div>
                        </div>
                    </div>
                    
                    <div class="results-grid">
                        <div>
                            <h3>ğŸ“ ×˜×§×¡×˜ ××§×•×¨×™ (×¢× ×”×“×’×©×•×ª):</h3>
                            <div id="originalText" class="output-box"></div>
                        </div>
                        <div>
                            <h3>âœ… ×’×¨×¡×” × ×§×™×™×”: <button class="btn btn-small btn-green" onclick="copyText('cleanText')">ğŸ“‹ ×”×¢×ª×§</button></h3>
                            <div id="cleanText" class="output-box output-clean"></div>
                        </div>
                    </div>
                    <div id="analysisResult"></div>
                </div>
            </div>
        </div>
        
        <!-- Generation Tab -->
        <div id="generate" class="tab-content">
            <div class="card">
                <div class="input-group">
                    <label>ğŸ² ×”×–×Ÿ ×˜×§×¡×˜ ×œ×™×¦×™×¨×ª ×’×¨×¡×” ××ª×—×¤×©×ª:</label>
                    <textarea id="generateInput" rows="3" placeholder="×“×•×’××”: Google, PayPal, Microsoft, Apple"></textarea>
                </div>
                
                <div class="input-group">
                    <label>×¨××ª ×”×”×ª×—×¤×©×•×ª:</label>
                    <div class="radio-group">
                        <label><input type="radio" name="level" value="0.3" checked> ğŸŸ¢ ×§×œ (30%)</label>
                        <label><input type="radio" name="level" value="0.6"> ğŸŸ¡ ×‘×™× ×•× ×™ (60%)</label>
                        <label><input type="radio" name="level" value="0.9"> ğŸ”´ ×›×‘×“ (90%)</label>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="generateText()">ğŸ² ×¦×•×¨ ×˜×§×¡×˜ ××ª×—×¤×©</button>
                </div>
                
                <div id="generateResults" class="results" style="display: none;">
                    <div style="background: linear-gradient(135deg, #343a40, #212529); color: white; padding: 25px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 10px 25px rgba(0,0,0,0.2);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px;">
                            <h3 style="margin: 0; font-size: 1.5em;">ğŸ­ ×”×˜×§×¡×˜ ×”××ª×—×¤×©:</h3>
                            <button class="btn btn-small btn-green" onclick="copyText('generatedText')">ğŸ“‹ ×”×¢×ª×§</button>
                        </div>
                        <div id="generatedText" style="background: linear-gradient(135deg, #495057, #6c757d); padding: 20px; border-radius: 10px; font-family: 'Courier New', monospace; font-size: 24px; word-break: break-all; border: 2px solid #adb5bd;"></div>
                    </div>
                    <div id="generateAnalysis"></div>
                </div>
            </div>
        </div>
        
        <!-- Table Tab -->
        <div id="table" class="tab-content">
            <div class="card">
                <div class="input-group">
                    <label>ğŸ” ×—×¤×© ×‘×˜×‘×œ×ª ×”×”×•××•×’×œ×™×¤×™×:</label>
                    <input type="text" id="tableSearch" placeholder="×—×¤×© ×ª×•, ×©×¤×” ××• ×§×•×“ Unicode..." onkeyup="filterTable()">
                </div>
                
                <div class="table-container">
                    <table id="homoglyphTable">
                        <thead>
                            <tr>
                                <th>×ª×• ××§×•×¨×™</th>
                                <th>×ª×• ××ª×—×¤×©</th>
                                <th>××¢×¨×›×ª ×›×ª×™×‘×”</th>
                                <th>×§×•×“ Unicode</th>
                                <th>×©×™××•×© × ×¤×•×¥</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- ×™×ª××œ× ×‘-JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- Templates Tab -->
        <div id="templates" class="tab-content">
            <div class="card">
                <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">ğŸ­ ×ª×‘× ×™×•×ª ×¤×™×©×™× ×’ ×œ×—×™× ×•×š</h2>
                <p style="text-align: center; margin-bottom: 30px; color: #6c757d; font-size: 1.1em;">
                    ×ª×‘× ×™×•×ª ××œ×• ××™×•×¢×“×•×ª ×œ×œ×™××•×“ ×•×–×™×”×•×™ × ×™×¡×™×•× ×•×ª ×¤×™×©×™× ×’. ×”×©×ª××© ×‘×”×Ÿ ×›×“×™ ×œ×œ××•×“ ××™×š ×œ×–×”×•×ª ××™×™×œ×™× ××–×•×™×¤×™×.
                </p>
                
                <div class="grid">
                    <div class="template-card" onclick="showTemplate('bank')">
                        <div class="icon">ğŸ¦</div>
                        <h3>×‘× ×§ ×”×¤×•×¢×œ×™×</h3>
                        <p>×”×•×“×¢×ª ××‘×˜×—×” ××–×•×™×¤×ª</p>
                    </div>
                    
                    <div class="template-card" onclick="showTemplate('post')">
                        <div class="icon">ğŸ“®</div>
                        <h3>×“×•××¨ ×™×©×¨××œ</h3>
                        <p>×—×‘×™×œ×” ×××ª×™× ×”</p>
                    </div>
                    
                    <div class="template-card" onclick="showTemplate('paypal')">
                        <div class="icon">ğŸ’³</div>
                        <h3>PayPal</h3>
                        <p>××™×©×•×¨ ×ª×©×œ×•×</p>
                    </div>
                    
                    <div class="template-card" onclick="showTemplate('google')">
                        <div class="icon">ğŸ”</div>
                        <h3>Google</h3>
                        <p>×”×ª×¨××ª ××‘×˜×—×”</p>
                    </div>
                    
                    <div class="template-card" onclick="showTemplate('microsoft')">
                        <div class="icon">ğŸ–¥ï¸</div>
                        <h3>Microsoft</h3>
                        <p>×¢×“×›×•×Ÿ Office</p>
                    </div>
                    
                    <div class="template-card" onclick="showTemplate('netflix')">
                        <div class="icon">ğŸ¬</div>
                        <h3>Netflix</h3>
                        <p>×‘×¢×™×” ×‘×ª×©×œ×•×</p>
                    </div>
                    
                    <div class="template-card" onclick="showTemplate('whatsapp')">
                        <div class="icon">ğŸ’¬</div>
                        <h3>WhatsApp</h3>
                        <p>××™×©×•×¨ ××›×©×™×¨</p>
                    </div>
                    
                    <div class="template-card" onclick="showTemplate('amazon')">
                        <div class="icon">ğŸ“¦</div>
                        <h3>Amazon</h3>
                        <p>×¢×“×›×•×Ÿ ×”×–×× ×”</p>
                    </div>
                    
                    <div class="template-card" onclick="showTemplate('apple')">
                        <div class="icon">ğŸ</div>
                        <h3>Apple</h3>
                        <p>×§×‘×œ×” ××”×—× ×•×ª</p>
                    </div>
                    
                    <div class="template-card" onclick="showTemplate('facebook')">
                        <div class="icon">ğŸ‘¥</div>
                        <h3>Facebook</h3>
                        <p>×”×ª×¨××ª ××‘×˜×—×”</p>
                    </div>
                </div>
                
                <div id="templateViewer" class="viewer">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; flex-wrap: wrap; gap: 15px;">
                        <h2 id="templateTitle" style="margin: 0;"></h2>
                        <div>
                            <button class="btn btn-small btn-green" onclick="copyTemplateCode()">ğŸ“‹ ×”×¢×ª×§ ×§×•×“</button>
                            <button class="btn btn-small btn-blue" onclick="downloadTemplate()">â¬‡ï¸ ×”×•×¨×“</button>
                            <button class="btn btn-small btn-secondary" onclick="closeTemplate()">âŒ ×¡×’×•×¨</button>
                        </div>
                    </div>
                    
                    <h3>ğŸ‘ï¸ ×ª×¦×•×’×” ××§×“×™××”:</h3>
                    <div id="templatePreview" class="preview"></div>
                    
                    <h3>ğŸ“ ×§×•×“ HTML:</h3>
                    <div class="code">
                        <pre id="templateCode" style="white-space: pre-wrap; word-wrap: break-word;"></pre>
                    </div>
                    
                    <h3>ğŸ” ××™×š ×œ×–×”×•×ª ×©×–×” ×–×™×•×£:</h3>
                    <div id="templateTips" class="tips"></div>
                </div>
            </div>
        </div>
        
        <div class="warning">
            <h3>âš ï¸ ××–×”×¨×” ×—×©×•×‘×”</h3>
            <p style="font-size: 1.2em; margin: 15px 0;">×›×œ×™ ×–×” ××™×•×¢×“ ×œ××˜×¨×•×ª ×—×™× ×•×›×™×•×ª ×•××—×§×¨ ×‘×˜×—×•×Ÿ ××™×“×¢ ×‘×œ×‘×“. ××¡×•×¨ ×œ×”×©×ª××© ×‘×• ×œ×¤×¢×™×œ×•×ª ×‘×œ×ª×™ ×—×•×§×™×ª, ×”×•× ××” ××• ×¤×™×©×™× ×’.</p>
            <p style="font-size: 1em; opacity: 0.8;">×”×©×™××•×© ×‘×›×œ×™ ×–×” ×”×•× ×‘××—×¨×™×•×ª×š ×”×‘×œ×¢×“×™×ª ×•×œ××˜×¨×•×ª ×œ×’×™×˜×™××™×•×ª ×‘×œ×‘×“.</p>
        </div>
    </div>

    <script>
        // ×××’×¨ ×”×•××•×’×œ×™×¤×™× ××§×™×£
        const homoglyphs = {
            // ××•×ª×™×•×ª ×§×˜× ×•×ª
            'a': ['Ğ°', 'Î±', 'áº¡', 'áº£', 'Ã£', 'Ã ', 'Ã¡', 'Ä…', 'Ä', 'Äƒ'], // ×¨×•×¡×™×ª, ×™×•×•× ×™×ª, ×•×™×˜× ××™×ª
            'e': ['Ğµ', 'Îµ', 'Ã«', 'Ãª', 'Ã©', 'Ã¨', 'Ä›', 'Ä™', 'Ä“', 'Ä—'], 
            'o': ['Ğ¾', 'Î¿', 'Ã²', 'Ã³', 'Ã´', 'Ãµ', 'Ã¶', 'Ã¸', 'Å‘', 'Å'], 
            'p': ['Ñ€', 'Ï', 'Ã¾'], 
            'c': ['Ñ', 'Ï²', 'Ã§', 'Ä‡', 'Ä', 'Ä‹'], 
            'x': ['Ñ…', 'Ï‡', 'Ã—'], 
            'y': ['Ñƒ', 'Î³', 'Ã½', 'Ã¿', 'Å·'], 
            'i': ['Ñ–', 'Î¹', 'Ã­', 'Ã¬', 'Ã®', 'Ã¯', 'Ä©', 'Ä«', 'Ä¯'], 
            'n': ['Î·', 'Ã±', 'Å„', 'Åˆ', 'Å†'], 
            'k': ['Îº', 'Ä·'], 
            'h': ['Ò»', 'Ä¥', 'Ä§'], 
            'b': ['Ğ²', 'á¸ƒ'], 
            'm': ['Ğ¼', 'á¸¿'], 
            't': ['Ñ‚', 'Å£', 'Å¥', 'á¹«'], 
            's': ['Ñ•', 'Å›', 'Å¡', 'ÅŸ', 'á¹¡'], 
            'r': ['Ğ³', 'Å•', 'Å™', 'á¹™'], 
            'u': ['Ï…', 'Ãº', 'Ã¹', 'Ã»', 'Ã¼', 'Å©', 'Å«', 'Å³', 'Å¯'],
            'v': ['Î½', 'á¹½'],
            'w': ['Ï‰', 'áºƒ', 'áº', 'Åµ', 'áº…'],
            'j': ['Ñ˜', 'Äµ'],
            'l': ['â…¼', '|', 'Å‚', 'Äº', 'Ä¾', 'Ä¼', 'á¸·'],
            'd': ['Ô', 'Ä', 'á¸‹'],
            'g': ['É¡', 'ÄŸ', 'Ä¡', 'Ä£'],
            'q': ['Ô›'],
            'z': ['á´¢', 'Åº', 'Å¾', 'Å¼'],
            'f': ['á¸Ÿ'],
            
            // ××•×ª×™×•×ª ×’×“×•×œ×•×ª
            'A': ['Ğ', 'Î‘', 'Ã€', 'Ã', 'Ã‚', 'Ãƒ', 'Ã„', 'Ã…', 'Ä„', 'Ä€'], 
            'B': ['Ğ’', 'Î’', 'á¸‚'], 
            'E': ['Ğ•', 'Î•', 'Ãˆ', 'Ã‰', 'ÃŠ', 'Ã‹', 'Ä˜', 'Ä’', 'Ä–'], 
            'H': ['Ğ', 'Î—', 'á¸¢'], 
            'I': ['Ğ†', 'Î™', 'ÃŒ', 'Ã', 'Ã', 'Ã', 'Ä¨', 'Äª', 'Ä®'], 
            'K': ['Ğš', 'Îš', 'Ä¶'], 
            'M': ['Ğœ', 'Îœ', 'á¸¾'], 
            'N': ['Î', 'Ã‘', 'Åƒ', 'Å‡', 'Å…'], 
            'O': ['Ğ', 'ÎŸ', 'Ã’', 'Ã“', 'Ã”', 'Ã•', 'Ã–', 'Ã˜', 'Å', 'ÅŒ'], 
            'P': ['Ğ ', 'Î¡', 'Ã'], 
            'S': ['Ğ…', 'Åš', 'Å ', 'Å'], 
            'T': ['Ğ¢', 'Î¤', 'Å¢', 'Å¤'], 
            'X': ['Ğ¥', 'Î§'], 
            'Y': ['Ğ£', 'Î¥', 'Ã', 'Å¸', 'Å¶'], 
            'Z': ['Î–', 'Å¹', 'Å½', 'Å»'],
            'C': ['Ğ¡', 'Ã‡', 'Ä†', 'ÄŒ', 'ÄŠ'],
            'D': ['Ä', 'á¸Š'],
            'F': ['á¸'],
            'G': ['Ä', 'Ä ', 'Ä¢'],
            'J': ['Ä´'],
            'L': ['Å', 'Ä¹', 'Ä½', 'Ä»'],
            'Q': ['Ôš'],
            'R': ['Å”', 'Å˜'],
            'U': ['Ãš', 'Ã™', 'Ã›', 'Ãœ', 'Å¨', 'Åª', 'Å²', 'Å®'],
            'V': ['á¹¼'],
            'W': ['áº‚', 'áº€', 'Å´', 'áº„'],
            
            // ××¡×¤×¨×™×
            '0': ['Ğ', 'Ğ¾', 'ÎŸ', 'Î¿', 'Û°', 'ğŸ', 'ğŸ˜'], 
            '1': ['l', 'I', 'Ğ†', '|', 'ğŸ', 'ğŸ™', 'Û±'],
            '2': ['ğŸ', 'ğŸš', 'Û²'],
            '3': ['ğŸ‘', 'ğŸ›', 'Û³', 'Ğ—'],
            '4': ['ğŸ’', 'ğŸœ', 'Û´'],
            '5': ['ğŸ“', 'ğŸ', 'Ûµ', 'Æ¼'],
            '6': ['Ğ±', 'ğŸ”', 'ğŸ', 'Û¶'],
            '7': ['ğŸ•', 'ğŸŸ', 'Û·'],
            '8': ['ğŸ–', 'ğŸ ', 'Û¸'],
            '9': ['ğŸ—', 'ğŸ¡', 'Û¹', 'Ö']
        };

        // ×××’×¨ ×ª×‘× ×™×•×ª ×¤×™×©×™× ×’
        const templates = {
            bank: {
                title: '×‘× ×§ ×”×¤×•×¢×œ×™×',
                html: `<div style="max-width: 600px; font-family: Arial; direction: rtl; margin: 0 auto; border: 1px solid #ddd;">
<div style="background: #1f4788; color: white; padding: 20px; text-align: center;">
    <h1 style="margin: 0; font-size: 24px;">ğŸ¦ ×‘× ×§ ×”×¤×•×¢×œ×™×</h1>
</div>
<div style="padding: 20px; background: white;">
    <h2 style="color: #dc3545; margin-top: 0;">âš ï¸ ×”×ª×¨××ª ××‘×˜×—×” ×—×©×•×‘×”</h2>
    <p style="font-size: 16px; line-height: 1.5;">×©×œ×•× ×¨×‘,</p>
    <p style="font-size: 16px; line-height: 1.5;">×–×™×”×™× ×• ×¤×¢×™×œ×•×ª ×—×©×•×“×” ×‘×—×©×‘×•×Ÿ ×”×‘× ×§ ×©×œ×š:</p>
    <div style="background: #fff3cd; padding: 15px; margin: 20px 0; border-radius: 5px; border: 1px solid #ffc107;">
        <strong>ğŸš¨ ×”×—×©×‘×•×Ÿ ×”×•×§×¤× ×–×× ×™×ª ×œ××¢×Ÿ ×‘×™×˜×—×•× ×š!</strong><br>
        <span style="font-size: 14px;">××¡×¤×¨ ×”×—×©×‘×•×Ÿ: ****1234</span>
    </div>
    <p style="font-size: 16px; line-height: 1.5;">×œ×‘×™×˜×•×œ ×”×§×¤××ª ×”×—×©×‘×•×Ÿ, ×™×© ×œ×××ª ××ª ×–×”×•×ª×š:</p>
    <div style="text-align: center; margin: 30px 0;">
        <a href="#" style="background: #1f4788; color: white; padding: 15px 30px; text-decoration: none; border-radius: 5px; font-weight: bold; display: inline-block;">×××ª ×–×”×•×ª ×¢×›×©×™×•</a>
    </div>
    <p style="font-size: 14px; color: #666; margin-top: 30px;">
        ×‘×›×‘×•×“ ×¨×‘,<br>
        ×¦×•×•×ª ××‘×˜×—×ª ×”××™×“×¢<br>
        ×‘× ×§ ×”×¤×•×¢×œ×™×
    </p>
</div>
</div>`,
                tips: 'â€¢ ×‘×“×•×§ ×©×”×©×•×œ×— ×”×•× ××›×ª×•×‘×ª ×¨×©××™×ª ×©×œ ×”×‘× ×§ (@bankhapoalim.co.il)\nâ€¢ ×‘× ×§×™× ×œ× ×™×‘×§×©×• ××™×“×¢ ×¨×’×™×© ×‘××™×™×œ\nâ€¢ ×”×ª×§×©×¨ ×œ×‘× ×§ ×œ××™××•×ª\nâ€¢ ×‘×“×•×§ ××ª ×›×ª×•×‘×ª ×”×§×™×©×•×¨ ×œ×¤× ×™ ×œ×—×™×¦×”'
            },

            post: {
                title: '×“×•××¨ ×™×©×¨××œ',
                html: `<div style="max-width: 600px; font-family: Arial; direction: rtl; margin: 0 auto; border: 1px solid #ddd;">
<div style="background: #0066cc; color: white; padding: 20px; text-align: center;">
    <h1 style="margin: 0; font-size: 24px;">ğŸ“® ×“×•××¨ ×™×©×¨××œ</h1>
</div>
<div style="padding: 20px; background: white;">
    <h2 style="color: #0066cc; margin-top: 0;">ğŸ“¦ ×—×‘×™×œ×” ×××ª×™× ×” ×œ××™×¡×•×£</h2>
    <p style="font-size: 16px; line-height: 1.5;">×©×œ×•×,</p>
    <p style="font-size: 16px; line-height: 1.5;">×—×‘×™×œ×” ×‘×™× ×œ××•××™×ª ×¢×‘×•×¨×š ×”×’×™×¢×” ×œ××¨×›×– ×”×’×™×•×Ÿ ×•×”×™× ×××ª×™× ×” ×œ××™×¡×•×£.</p>
    <div style="background: #e3f2fd; padding: 15px; margin: 20px 0; border-radius: 5px;">
        <p style="margin: 5px 0;"><strong>××¡×¤×¨ ××©×œ×•×—:</strong> IL987654321PS</p>
        <p style="margin: 5px 0;"><strong>××©×§×œ:</strong> 1.2 ×§"×’</p>
        <p style="margin: 5px 0;"><strong>×“××™ ××›×¡:</strong> â‚ª47.80</p>
        <p style="margin: 5px 0;"><strong>×ª××¨×™×š ×”×’×¢×”:</strong> 10/06/2025</p>
    </div>
    <div style="background: #fff3cd; padding: 15px; margin: 20px 0; border-radius: 5px; border: 1px solid #ffc107;">
        <strong>â° ×ª×©×œ×•× ×“××™ ×”××›×¡ × ×“×¨×© ×ª×•×š 48 ×©×¢×•×ª</strong><br>
        <span style="font-size: 14px;">××—×¨×ª ×”×—×‘×™×œ×” ×ª×•×—×–×¨ ×œ×©×•×œ×—</span>
    </div>
    <div style="text-align: center; margin: 30px 0;">
        <a href="#" style="background: #0066cc; color: white; padding: 15px 30px; text-decoration: none; border-radius: 5px; font-weight: bold; display: inline-block;">×©×œ× ×“××™ ××›×¡</a>
    </div>
    <p style="font-size: 14px; color: #666;">
        ×‘×‘×¨×›×”,<br>
        ×“×•××¨ ×™×©×¨××œ
    </p>
</div>
</div>`,
                tips: 'â€¢ ×‘×“×•×§ ×©×”×›×ª×•×‘×ª ×”×™× israelpost.co.il\nâ€¢ ×“×•××¨ ×™×©×¨××œ ×œ× ××‘×§×© ×ª×©×œ×•× ××§×•×•×Ÿ ×¢×‘×•×¨ ×“××™ ××›×¡\nâ€¢ ×××ª ××ª ××¡×¤×¨ ×”××©×œ×•×— ×‘××ª×¨ ×”×¨×©××™\nâ€¢ ×ª×©×œ×•× ×“××™ ××›×¡ × ×¢×©×” ×‘××©×¨×“ ×”×“×•××¨'
            },

            paypal: {
                title: 'PayPal',
                html: `<div style="max-width: 600px; font-family: Arial; direction: ltr; margin: 0 auto; border: 1px solid #ddd;">
<div style="background: #003087; color: white; padding: 20px; text-align: center;">
    <h1 style="margin: 0; font-size: 24px; font-weight: normal;">PayPal</h1>
</div>
<div style="padding: 20px; background: white;">
    <h2 style="color: #003087; margin-top: 0;">Payment Verification Required</h2>
    <p style="font-size: 16px; line-height: 1.5;">Hello,</p>
    <p style="font-size: 16px; line-height: 1.5;">We've detected unusual activity on your PayPal account and need you to verify a recent transaction:</p>
    <div style="background: #fff8e1; padding: 15px; margin: 20px 0; border-radius: 5px; border: 1px solid #ffcc02;">
        <p style="margin: 5px 0;"><strong>Transaction ID:</strong> 8XY12345Z</p>
        <p style="margin: 5px 0;"><strong>Amount:</strong> $249.99 USD</p>
        <p style="margin: 5px 0;"><strong>Merchant:</strong> Tech Solutions Pro</p>
        <p style="margin: 5px 0;"><strong>Status:</strong> Pending Review</p>
    </div>
    <div style="background: #ffebee; padding: 15px; margin: 20px 0; border-radius: 5px; border: 1px solid #f44336;">
        <strong>âš ï¸ Account Limited</strong><br>
        <span style="font-size: 14px;">Your account has been temporarily limited until verification is complete</span>
    </div>
    <p style="font-size: 16px; line-height: 1.5;">To restore full access to your account, please verify this transaction:</p>
    <div style="text-align: center; margin: 30px 0;">
        <a href="#" style="background: #0070ba; color: white; padding: 15px 30px; text-decoration: none; border-radius: 20px; font-weight: bold; display: inline-block;">Verify Transaction</a>
    </div>
    <p style="font-size: 14px; color: #666;">
        Thanks,<br>
        PayPal Security Team
    </p>
</div>
</div>`,
                tips: 'â€¢ Check sender is from @paypal.com (not @paypaI.com)\nâ€¢ PayPal never asks for passwords or sensitive info via email\nâ€¢ Login directly to PayPal to check account status\nâ€¢ Verify transaction details in your PayPal account'
            },

            google: {
                title: 'Google',
                html: `<div style="max-width: 600px; font-family: Arial; direction: ltr; margin: 0 auto; border: 1px solid #ddd;">
<div style="background: white; padding: 20px; text-align: center; border-bottom: 1px solid #e0e0e0;">
    <h1 style="margin: 0; color: #4285f4; font-size: 28px; font-weight: 300;">Google</h1>
    <h2 style="margin: 10px 0 0 0; color: #333; font-size: 20px; font-weight: 400;">Security Alert</h2>
</div>
<div style="padding: 20px; background: white;">
    <p style="font-size: 16px; line-height: 1.5; color: #333;">Hi there,</p>
    <p style="font-size: 16px; line-height: 1.5; color: #333;">We detected unusual sign-in activity on your Google Account:</p>
    <div style="background: #fef7e0; padding: 15px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #fbbc04;">
        <p style="margin: 5px 0; color: #333;"><strong>Device:</strong> Windows PC - Chrome</p>
        <p style="margin: 5px 0; color: #333;"><strong>Location:</strong> Unknown Location</p>
        <p style="margin: 5px 0; color: #333;"><strong>Time:</strong> June 12, 2025 at 2:34 PM</p>
        <p style="margin: 5px 0; color: #333;"><strong>IP Address:</strong> 185.220.101.42</p>
    </div>
    <div style="background: #fce8e6; padding: 15px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #ea4335;">
        <strong style="color: #d93025;">âš ï¸ Action Required</strong><br>
        <span style="font-size: 14px; color: #5f6368;">If this wasn't you, your account may be compromised</span>
    </div>
    <p style="font-size: 16px; line-height: 1.5; color: #333;">To secure your account, please review this activity:</p>
    <div style="text-align: center; margin: 30px 0;">
        <a href="#" style="background: #1a73e8; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; font-weight: 500; display: inline-block;">Secure My Account</a>
    </div>
    <p style="font-size: 14px; color: #5f6368; margin-top: 30px;">
        Best regards,<br>
        Google Security Team
    </p>
</div>
</div>`,
                tips: 'â€¢ Check sender is @google.com or @gmail.com\nâ€¢ Google never asks for passwords in emails\nâ€¢ Check account activity directly at myaccount.google.com\nâ€¢ Be suspicious of urgent security alerts'
            },

            microsoft: {
                title: 'Microsoft',
                html: `<div style="max-width: 600px; font-family: Arial; direction: ltr; margin: 0 auto; border: 1px solid #ddd;">
<div style="background: #0078d4; color: white; padding: 20px; text-align: center;">
    <h1 style="margin: 0; font-size: 24px; font-weight: 400;">Microsoft Office 365</h1>
</div>
<div style="padding: 20px; background: white;">
    <h2 style="color: #323130; margin-top: 0; font-weight: 400;">Account Verification Required</h2>
    <p style="font-size: 16px; line-height: 1.5; color: #323130;">Hello,</p>
    <p style="font-size: 16px; line-height: 1.5; color: #323130;">Your Office 365 subscription requires immediate verification to continue service:</p>
    <div style="background: #fff4ce; padding: 15px; margin: 20px 0; border-radius: 4px; border: 1px solid #ffb900;">
        <p style="margin: 5px 0; color: #323130;"><strong>Subscription:</strong> Office 365 Personal</p>
        <p style="margin: 5px 0; color: #323130;"><strong>Account:</strong> user@email.com</p>
        <p style="margin: 5px 0; color: #323130;"><strong>Status:</strong> Verification Pending</p>
        <p style="margin: 5px 0; color: #323130;"><strong>Expires:</strong> June 13, 2025</p>
    </div>
    <div style="background: #fdf2f2; padding: 15px; margin: 20px 0; border-radius: 4px; border: 1px solid #d13438;">
        <strong style="color: #d13438;">â° Expires in 24 hours</strong><br>
        <span style="font-size: 14px; color: #605e5c;">After expiration, you will lose access to all Office applications</span>
    </div>
    <p style="font-size: 16px; line-height: 1.5; color: #323130;">Click below to verify your account and maintain access:</p>
    <div style="text-align: center; margin: 30px 0;">
        <a href="#" style="background: #0078d4; color: white; padding: 12px 24px; text-decoration: none; border-radius: 2px; font-weight: 600; display: inline-block;">Verify Account Now</a>
    </div>
    <p style="font-size: 14px; color: #605e5c;">
        Thank you,<br>
        Microsoft Office Team
    </p>
</div>
</div>`,
                tips: 'â€¢ Check sender is @microsoft.com or @office.com\nâ€¢ Microsoft gives more notice before subscription expiry\nâ€¢ Verify subscription status at account.microsoft.com\nâ€¢ Be wary of urgent 24-hour deadlines'
            },

            netflix: {
                title: 'Netflix',
                html: `<div style="max-width: 600px; font-family: Arial; direction: ltr; margin: 0 auto; border: 1px solid #ddd;">
<div style="background: #e50914; color: white; padding: 20px; text-align: center;">
    <h1 style="margin: 0; font-size: 28px; font-weight: 700; letter-spacing: 0.5px;">NETFLIX</h1>
</div>
<div style="padding: 20px; background: white;">
    <h2 style="color: #221f1f; margin-top: 0; font-weight: 500;">Payment Update Required</h2>
    <p style="font-size: 16px; line-height: 1.5; color: #221f1f;">Hi,</p>
    <p style="font-size: 16px; line-height: 1.5; color: #221f1f;">We're having trouble processing your payment for your Netflix membership.</p>
    <div style="background: #fff2f2; padding: 15px; margin: 20px 0; border-radius: 4px; border-left: 4px solid #e50914;">
        <p style="margin: 5px 0; color: #221f1f;"><strong>Plan:</strong> Premium (4K + HDR)</p>
        <p style="margin: 5px 0; color: #221f1f;"><strong>Monthly Fee:</strong> $15.49</p>
        <p style="margin: 5px 0; color: #221f1f;"><strong>Payment Method:</strong> â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ 1234</p>
        <p style="margin: 5px 0; color: #221f1f;"><strong>Last Attempt:</strong> June 12, 2025</p>
    </div>
    <div style="background: #fff3cd; padding: 15px; margin: 20px 0; border-radius: 4px; border: 1px solid #ffc107;">
        <strong style="color: #856404;">âš ï¸ Account will be suspended in 48 hours</strong><br>
        <span style="font-size: 14px; color: #856404;">Update your payment method to continue streaming</span>
    </div>
    <p style="font-size: 16px; line-height: 1.5; color: #221f1f;">To keep watching your favorite shows and movies, please update your payment information:</p>
    <div style="text-align: center; margin: 30px 0;">
        <a href="#" style="background: #e50914; color: white; padding: 16px 32px; text-decoration: none; border-radius: 4px; font-weight: 500; font-size: 16px; display: inline-block;">Update Payment Method</a>
    </div>
    <p style="font-size: 14px; color: #737373;">
        Questions? Visit our Help Center<br>
        The Netflix Team
    </p>
</div>
</div>`,
                tips: 'â€¢ Check sender is @netflix.com (not @netfIix.com)\nâ€¢ Netflix typically gives more time before suspension\nâ€¢ Login directly to Netflix to check payment status\nâ€¢ Netflix emails usually have your account details'
            },

            whatsapp: {
                title: 'WhatsApp',
                html: `<div style="max-width: 600px; font-family: Arial; direction: rtl; margin: 0 auto; border: 1px solid #ddd;">
<div style="background: #25d366; color: white; padding: 20px; text-align: center;">
    <h1 style="margin: 0; font-size: 24px; font-weight: 400;">ğŸ’¬ WhatsApp</h1>
</div>
<div style="padding: 20px; background: white;">
    <h2 style="color: #075e54; margin-top: 0;">××™×©×•×¨ ××›×©×™×¨ ×—×“×©</h2>
    <p style="font-size: 16px; line-height: 1.5;">×©×œ×•×,</p>
    <p style="font-size: 16px; line-height: 1.5;">×–×•×”×” × ×™×¡×™×•×Ÿ ×›× ×™×¡×” ×œ×—×©×‘×•×Ÿ WhatsApp ×©×œ×š ×××›×©×™×¨ ×œ× ××•×›×¨:</p>
    <div style="background: #e8f5e8; padding: 15px; margin: 20px 0; border-radius: 5px; border: 1px solid #25d366;">
        <p style="margin: 5px 0;"><strong>××›×©×™×¨:</strong> iPhone 15 Pro</p>
        <p style="margin: 5px 0;"><strong>××™×§×•×:</strong> ×ª×œ ××‘×™×‘, ×™×©×¨××œ</p>
        <p style="margin: 5px 0;"><strong>×–××Ÿ:</strong> 12/06/2025 ×‘×©×¢×” 14:30</p>
        <p style="margin: 5px 0;"><strong>×›×ª×•×‘×ª IP:</strong> 87.69.185.42</p>
    </div>
    <div style="background: #fff3cd; padding: 15px; margin: 20px 0; border-radius: 5px; border: 1px solid #ffc107;">
        <strong>ğŸ” × ×“×¨×© ××™×©×•×¨ ×‘×˜×—×•×Ÿ</strong><br>
        <span style="font-size: 14px;">×× ×–×” ×œ× ××ª×”, ×”×—×©×‘×•×Ÿ ×©×œ×š ×¢×œ×•×œ ×œ×”×™×•×ª ×‘×¡×›× ×”</span>
    </div>
    <p style="font-size: 16px; line-height: 1.5;">×œ×—×¥ ×¢×œ ×”×›×¤×ª×•×¨ ×œ××˜×” ×›×“×™ ×œ××©×¨ ××• ×œ×—×¡×•× ××ª ×”××›×©×™×¨:</p>
    <div style="text-align: center; margin: 30px 0;">
        <a href="#" style="background: #25d366; color: white; padding: 15px 30px; text-decoration: none; border-radius: 25px; font-weight: bold; display: inline-block; margin: 5px;">âœ… ××©×¨ ××›×©×™×¨</a>
        <a href="#" style="background: #dc3545; color: white; padding: 15px 30px; text-decoration: none; border-radius: 25px; font-weight: bold; display: inline-block; margin: 5px;">âŒ ×—×¡×•×</a>
    </div>
    <p style="font-size: 14px; color: #666;">
        ×‘×‘×¨×›×”,<br>
        ×¦×•×•×ª ×”××‘×˜×—×” ×©×œ WhatsApp
    </p>
</div>
</div>`,
                tips: 'â€¢ WhatsApp ×œ× ×©×•×œ×— ××™×™×œ×™ ××™×©×•×¨ ×›××œ×”\nâ€¢ ××™××•×ª × ×¢×©×” ×¨×§ ×“×¨×š ×”××¤×œ×™×§×¦×™×” ×‘××›×©×™×¨\nâ€¢ ×‘×“×•×§ ×‘×”×’×“×¨×•×ª ×”××¤×œ×™×§×¦×™×” ××ª ×”××›×©×™×¨×™× ×”××—×•×‘×¨×™×\nâ€¢ WhatsApp ×œ× ××‘×§×© ×¤×¨×˜×™ ×”×ª×—×‘×¨×•×ª ×‘××™×™×œ'
            },

            amazon: {
                title: 'Amazon',
                html: `<div style="max-width: 600px; font-family: Arial; direction: ltr; margin: 0 auto; border: 1px solid #ddd;">
<div style="background: #232f3e; color: white; padding: 20px;">
    <h1 style="margin: 0; font-size: 24px; font-weight: 400;">amazon</h1>
</div>
<div style="padding: 20px; background: white;">
    <h2 style="color: #0066c0; margin-top: 0; font-weight: 400;">Order Update Required</h2>
    <p style="font-size: 16px; line-height: 1.5; color: #0f1111;">Hello,</p>
    <p style="font-size: 16px; line-height: 1.5; color: #0f1111;">There's an issue with your recent Amazon order that requires immediate attention:</p>
    <div style="background: #f7f8f8; padding: 15px; margin: 20px 0; border-radius: 4px; border: 1px solid #ddd;">
        <p style="margin: 5px 0; color: #0f1111;"><strong>Order #:</strong> 114-7829304-2847628</p>
        <p style="margin: 5px 0; color: #0f1111;"><strong>Item:</strong> Apple AirPods Pro (2nd Gen)</p>
        <p style="margin: 5px 0; color: #0f1111;"><strong>Price:</strong> $249.00</p>
        <p style="margin: 5px 0; color: #0f1111;"><strong>Status:</strong> Payment Verification Needed</p>
    </div>
    <div style="background: #fff2cc; padding: 15px; margin: 20px 0; border-radius: 4px; border: 1px solid #ffb900;">
        <strong style="color: #7c6500;">âš ï¸ Shipment Delayed</strong><br>
        <span style="font-size: 14px; color: #7c6500;">Your order cannot be processed until payment is verified</span>
    </div>
    <p style="font-size: 16px; line-height: 1.5; color: #0f1111;">To continue with your order, please verify your payment information:</p>
    <div style="text-align: center; margin: 30px 0;">
        <a href="#" style="background: #ff9900; color: #0f1111; padding: 12px 24px; text-decoration: none; border-radius: 3px; font-weight: 700; display: inline-block;">Verify Payment</a>
    </div>
    <p style="font-size: 14px; color: #555;">
        Thank you for shopping with us,<br>
        Customer Service<br>
        Amazon.com
    </p>
</div>
</div>`,
                tips: 'â€¢ Check sender is @amazon.com (not @amazone.com)\nâ€¢ Login directly to Amazon to check order status\nâ€¢ Amazon order numbers have specific format\nâ€¢ Verify order details match your actual purchases'
            },

            apple: {
                title: 'Apple',
                html: `<div style="max-width: 600px; font-family: -apple-system, Arial; direction: ltr; margin: 0 auto; border: 1px solid #ddd;">
<div style="background: #f5f5f7; padding: 20px; text-align: center; border-bottom: 1px solid #d2d2d7;">
    <h1 style="margin: 0; color: #1d1d1f; font-size: 24px; font-weight: 600;">ğŸ Apple</h1>
</div>
<div style="padding: 20px; background: white;">
    <h2 style="color: #1d1d1f; margin-top: 0; font-weight: 500;">App Store Purchase Receipt</h2>
    <p style="font-size: 16px; line-height: 1.5; color: #1d1d1f;">Dear Customer,</p>
    <p style="font-size: 16px; line-height: 1.5; color: #1d1d1f;">Thank you for your purchase from the App Store. Here are the details:</p>
    <div style="background: #f5f5f7; padding: 20px; margin: 20px 0; border-radius: 8px;">
        <p style="margin: 5px 0; color: #1d1d1f;"><strong>App:</strong> Premium Security Pro</p>
        <p style="margin: 5px 0; color: #1d1d1f;"><strong>Developer:</strong> SecureMax Solutions</p>
        <p style="margin: 5px 0; color: #1d1d1f;"><strong>Price:</strong> $99.99</p>
        <p style="margin: 5px 0; color: #1d1d1f;"><strong>Purchase Date:</strong> June 12, 2025</p>
    </div>
    <div style="background: #fff3cd; padding: 15px; margin: 20px 0; border-radius: 8px; border: 1px solid #ffc107;">
        <strong style="color: #856404;">ğŸ’³ Payment Issue Detected</strong><br>
        <span style="font-size: 14px; color: #856404;">Your payment method was declined. Please update to avoid service interruption.</span>
    </div>
    <p style="font-size: 16px; line-height: 1.5; color: #1d1d1f;">If you did not authorize this purchase, please review your receipt:</p>
    <div style="text-align: center; margin: 30px 0;">
        <a href="#" style="background: #007aff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px; font-weight: 500; display: inline-block;">Review Purchase</a>
    </div>
    <p style="font-size: 14px; color: #86868b;">
        Best regards,<br>
        Apple Store Team
    </p>
</div>
</div>`,
                tips: 'â€¢ Check sender is @apple.com (not @appIe.com)\nâ€¢ Apple receipts come from do_not_reply@apple.com\nâ€¢ Check purchase history in App Store directly\nâ€¢ Apple uses different receipt format'
            },

            facebook: {
                title: 'Facebook',
                html: `<div style="max-width: 600px; font-family: Arial; direction: ltr; margin: 0 auto; border: 1px solid #ddd;">
<div style="background: #1877f2; color: white; padding: 20px; text-align: center;">
    <h1 style="margin: 0; font-size: 24px; font-weight: 700;">facebook</h1>
</div>
<div style="padding: 20px; background: white;">
    <h2 style="color: #1c1e21; margin-top: 0; font-weight: 500;">Security Alert</h2>
    <p style="font-size: 16px; line-height: 1.5; color: #1c1e21;">Hi there,</p>
    <p style="font-size: 16px; line-height: 1.5; color: #1c1e21;">We detected a login attempt to your Facebook account from an unrecognized device:</p>
    <div style="background: #f0f2f5; padding: 15px; margin: 20px 0; border-radius: 8px; border: 1px solid #dadde1;">
        <p style="margin: 5px 0; color: #1c1e21;"><strong>Device:</strong> Samsung Galaxy S24</p>
        <p style="margin: 5px 0; color: #1c1e21;"><strong>Location:</strong> Unknown Location</p>
        <p style="margin: 5px 0; color: #1c1e21;"><strong>Browser:</strong> Chrome Mobile</p>
        <p style="margin: 5px 0; color: #1c1e21;"><strong>Time:</strong> June 12, 2025 at 3:15 PM</p>
    </div>
    <div style="background: #ffebee; padding: 15px; margin: 20px 0; border-radius: 8px; border: 1px solid #f44336;">
        <strong style="color: #c62828;">ğŸš¨ Suspicious Activity</strong><br>
        <span style="font-size: 14px; color: #c62828;">If this wasn't you, your account may be compromised</span>
    </div>
    <p style="font-size: 16px; line-height: 1.5; color: #1c1e21;">To secure your account, please review this login attempt:</p>
    <div style="text-align: center; margin: 30px 0;">
        <a href="#" style="background: #1877f2; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: 600; display: inline-block; margin: 5px;">Secure Account</a>
        <a href="#" style="background: #42b883; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: 600; display: inline-block; margin: 5px;">This Was Me</a>
    </div>
    <p style="font-size: 14px; color: #65676b;">
        Thanks,<br>
        Facebook Security Team
    </p>
</div>
</div>`,
                tips: 'â€¢ Check sender is @facebookmail.com or @facebook.com\nâ€¢ Login directly to Facebook to check security settings\nâ€¢ Review recent login activity in settings\nâ€¢ Facebook shows specific device and location info'
            }
        };

        // ×™×¦×™×¨×ª ××¤×ª ×–×™×”×•×™ ×”×¤×•×›×”
        const reverseMap = {};
        Object.keys(homoglyphs).forEach(original => {
            homoglyphs[original].forEach(fake => {
                reverseMap[fake] = original;
            });
        });

        let currentTemplate = '';

        // ×¤×•× ×§×¦×™×•×ª × ×™×•×•×˜
        function showTab(tabName) {
            // ×”×¡×ª×¨ ×›×œ ×”×˜××‘×™×
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // ×”×¡×¨ active ××›×œ ×”×›×¤×ª×•×¨×™×
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // ×”×¦×’ ×”×˜××‘ ×”× ×‘×—×¨
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            // ××ª×—×œ ×˜×‘×œ×” ×× × ×“×¨×©
            if (tabName === 'table' && document.getElementById('tableBody').children.length === 0) {
                populateTable();
            }
        }

        // ××™×œ×•×™ ×“×•×’×××•×ª
        function setExample(text) {
            document.getElementById('detectInput').value = text;
        }

        // × ×™×ª×•×— ×˜×§×¡×˜ ×œ×–×™×”×•×™ ×”×•××•×’×œ×™×¤×™×
        function analyzeText() {
            const input = document.getElementById('detectInput').value;
            if (!input.trim()) {
                alert('×× × ×”×–×Ÿ ×˜×§×¡×˜ ×œ×‘×“×™×§×”');
                return;
            }

            let suspicious = [];
            let highlightedText = '';
            let cleanText = '';

            for (let i = 0; i < input.length; i++) {
                const char = input[i];
                if (reverseMap[char]) {
                    const original = reverseMap[char];
                    suspicious.push({
                        char: char,
                        original: original,
                        position: i
                    });
                    highlightedText += `<span class="highlight" title="×ª×• ×—×©×•×“: ${char} (${char.charCodeAt(0).toString(16)}) ×‘××§×•× ${original}">${char}</span>`;
                    cleanText += original;
                } else {
                    highlightedText += char;
                    cleanText += char;
                }
            }

            // ×”×¦×’×ª ×”×ª×•×¦××•×ª
            document.getElementById('originalText').innerHTML = highlightedText;
            document.getElementById('cleanText').textContent = cleanText;
            document.getElementById('detectResults').style.display = 'block';

            // ×¢×“×›×•×Ÿ ×¡×˜×˜×™×¡×˜×™×§×•×ª
            const suspiciousCount = suspicious.length;
            const totalChars = input.length;
            const cleanPercentage = Math.round(((totalChars - suspiciousCount) / totalChars) * 100);
            
            let riskLevel = '× ××•×š';
            if (suspiciousCount > 0) {
                if (suspiciousCount >= totalChars * 0.5) riskLevel = '×’×‘×•×”';
                else if (suspiciousCount >= totalChars * 0.2) riskLevel = '×‘×™× ×•× ×™';
                else riskLevel = '× ××•×š-×‘×™× ×•× ×™';
            }

            document.getElementById('suspiciousCount').textContent = suspiciousCount;
            document.getElementById('riskLevel').textContent = riskLevel;
            document.getElementById('cleanPercentage').textContent = cleanPercentage + '%';
            
            if (suspiciousCount > 0) {
                document.getElementById('statsContainer').style.display = 'grid';
            }

            // × ×™×ª×•×— ××¤×•×¨×˜
            let analysisHtml = '';
            if (suspicious.length > 0) {
                analysisHtml = `
                    <div class="analysis analysis-danger">
                        <h3>âš ï¸ × ××¦××• ${suspicious.length} ×ª×•×•×™× ×—×©×•×“×™× ××ª×•×š ${totalChars} ×ª×•×•×™× ×¡×”"×›:</h3>
                        <ul style="text-align: right; margin: 15px 0;">
                `;
                suspicious.forEach(item => {
                    const unicodeOrig = item.original.charCodeAt(0).toString(16).toUpperCase();
                    const unicodeFake = item.char.charCodeAt(0).toString(16).toUpperCase();
                    analysisHtml += `<li style="margin: 8px 0;"><strong>"${item.char}"</strong> (U+${unicodeFake}) ×‘××§×•× <strong>"${item.original}"</strong> (U+${unicodeOrig}) ×‘××™×§×•× ${item.position + 1}</li>`;
                });
                analysisHtml += `
                        </ul>
                        <p style="margin-top: 20px;"><strong>×¨××ª ×¡×™×›×•×Ÿ:</strong> ${riskLevel}</p>
                        <p><strong>×”××œ×¦×”:</strong> ${getRiskAdvice(riskLevel)}</p>
                    </div>
                `;
            } else {
                analysisHtml = `
                    <div class="analysis analysis-success">
                        <h3>âœ… ×”×˜×§×¡×˜ × ×§×™ ×•×‘×˜×•×—!</h3>
                        <p>×œ× × ××¦××• ×ª×•×•×™× ×—×©×•×“×™× ××• ×”×•××•×’×œ×™×¤×™× ×‘×˜×§×¡×˜ ×–×”.</p>
                        <p>×”×˜×§×¡×˜ ××©×ª××© ×‘×ª×•×•×™× ×¡×˜× ×“×¨×˜×™×™× ×‘×œ×‘×“.</p>
                    </div>
                `;
            }
            
            document.getElementById('analysisResult').innerHTML = analysisHtml;
        }

        function getRiskAdvice(riskLevel) {
            switch(riskLevel) {
                case '×’×‘×•×”': return '×–×”×™×¨×•×ª ×’×‘×•×”×”! ×™×™×ª×›×Ÿ ××“×•×‘×¨ ×‘× ×™×¡×™×•×Ÿ ×¤×™×©×™× ×’ ××• ×”×•× ××”. ××œ ×ª×œ×—×¥ ×¢×œ ×§×™×©×•×¨×™×.';
                case '×‘×™× ×•× ×™': return '×”×™×–×”×¨! ×‘×“×•×§ ××ª ××§×•×¨ ×”×˜×§×¡×˜ ×•×××ª ×œ×¤× ×™ ×¤×¢×•×œ×” ×›×œ×©×”×™.';
                case '× ××•×š-×‘×™× ×•× ×™': return '×©×™× ×œ×‘! ×™×© ×ª×•×•×™× ×—×©×•×“×™× ×‘×•×“×“×™×. ×‘×“×•×§ ××ª ×”××§×•×¨.';
                default: return '×¨××ª ×¡×™×›×•×Ÿ × ××•×›×”, ××š ×ª××™×“ ×›×“××™ ×œ×”×™×•×ª ×–×”×™×¨.';
            }
        }

        // ×™×¦×™×¨×ª ×˜×§×¡×˜ ××ª×—×¤×©
        function generateText() {
            const input = document.getElementById('generateInput').value;
            if (!input.trim()) {
                alert('×× × ×”×–×Ÿ ×˜×§×¡×˜ ×œ×™×¦×™×¨×”');
                return;
            }

            const level = parseFloat(document.querySelector('input[name="level"]:checked').value);
            let result = '';
            let changes = [];

            for (let i = 0; i < input.length; i++) {
                const char = input[i];
                if (homoglyphs[char] && Math.random() < level) {
                    const alternatives = homoglyphs[char];
                    const chosen = alternatives[Math.floor(Math.random() * alternatives.length)];
                    result += chosen;
                    changes.push({
                        original: char,
                        replacement: chosen,
                        position: i,
                        originalUnicode: char.charCodeAt(0).toString(16).toUpperCase(),
                        replacementUnicode: chosen.charCodeAt(0).toString(16).toUpperCase()
                    });
                } else {
                    result += char;
                }
            }

            // ×”×¦×’×ª ×”×ª×•×¦××•×ª
            document.getElementById('generatedText').textContent = result;
            document.getElementById('generateResults').style.display = 'block';

            // × ×™×ª×•×— ×”×©×™× ×•×™×™×
            let analysisHtml = '';
            if (changes.length > 0) {
                const percentage = Math.round((changes.length / input.length) * 100);
                analysisHtml = `
                    <div class="analysis">
                        <h3>ğŸ”¬ × ×™×ª×•×— ×”×”×ª×—×¤×©×•×ª:</h3>
                        <p><strong>×‘×•×¦×¢×• ${changes.length} ×©×™× ×•×™×™× ××ª×•×š ${input.length} ×ª×•×•×™× (${percentage}%)</strong></p>
                        <div style="background: white; padding: 15px; border-radius: 8px; margin: 15px 0;">
                            <h4>ğŸ“ ×”×©×™× ×•×™×™× ×©×‘×•×¦×¢×•:</h4>
                            <ul style="text-align: right; margin: 10px 0;">
                `;
                changes.forEach(change => {
                    analysisHtml += `<li style="margin: 5px 0;">"${change.original}" (U+${change.originalUnicode}) â†’ "${change.replacement}" (U+${change.replacementUnicode}) ×‘××™×§×•× ${change.position + 1}</li>`;
                });
                analysisHtml += `
                            </ul>
                        </div>
                        <p><strong>×¨××ª ×”×¦×œ×—×”:</strong> ${getSuccessLevel(percentage)}</p>
                    </div>
                `;
            } else {
                analysisHtml = '<div class="analysis"><p>×œ× ×‘×•×¦×¢×• ×©×™× ×•×™×™× ×‘×¨××ª ×”×¢×¨×‘×•×‘ ×©× ×‘×—×¨×”. × ×¡×” ×¨××” ×’×‘×•×”×” ×™×•×ª×¨.</p></div>';
            }
            
            document.getElementById('generateAnalysis').innerHTML = analysisHtml;
        }

        function getSuccessLevel(percentage) {
            if (percentage >= 70) return '×’×‘×•×”×” ×××•×“ - ×˜×§×¡×˜ ×××•×“ ××ª×—×¤×©';
            if (percentage >= 50) return '×’×‘×•×”×” - ×˜×§×¡×˜ ××ª×—×¤×© ×”×™×˜×‘';
            if (percentage >= 30) return '×‘×™× ×•× ×™×ª - ×˜×§×¡×˜ ××ª×—×¤×© ×—×œ×§×™×ª';
            if (percentage >= 10) return '× ××•×›×” - ×©×™× ×•×™×™× ××•×¢×˜×™×';
            return '××™× ×™××œ×™×ª - ×›××¢×˜ ×œ×œ× ×©×™× ×•×™×™×';
        }

        // ×”×¢×ª×§×” ×œ×œ×•×—
        function copyText(elementId) {
            const text = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('×”×•×¢×ª×§ ×œ×œ×•×—!');
            }).catch(() => {
                // fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('×”×•×¢×ª×§ ×œ×œ×•×—!');
            });
        }

        // ××™×œ×•×™ ×˜×‘×œ×ª ×”×•××•×’×œ×™×¤×™×
        function populateTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';
            
            Object.keys(homoglyphs).forEach(original => {
                homoglyphs[original].forEach(fake => {
                    const row = tbody.insertRow();
                    
                    const cell1 = row.insertCell(0);
                    cell1.innerHTML = `<span class="char-display">${original}</span>`;
                    
                    const cell2 = row.insertCell(1);
                    cell2.innerHTML = `<span class="char-display">${fake}</span>`;
                    
                    const cell3 = row.insertCell(2);
                    cell3.textContent = getCharacterSystem(fake);
                    
                    const cell4 = row.insertCell(3);
                    cell4.textContent = 'U+' + fake.charCodeAt(0).toString(16).toUpperCase().padStart(4, '0');
                    
                    const cell5 = row.insertCell(4);
                    cell5.textContent = getCommonUsage(original, fake);
                });
            });
        }

        // ×–×™×”×•×™ ××¢×¨×›×ª ×”×ª×•
        function getCharacterSystem(char) {
            const code = char.charCodeAt(0);
            if (code >= 0x0400 && code <= 0x04FF) return '×§×™×¨×™×œ×™×§×” (×¨×•×¡×™×ª)';
            if (code >= 0x0370 && code <= 0x03FF) return '×™×•×•× ×™×ª';
            if (code >= 0x2100 && code <= 0x214F) return '××¡×¤×¨×™× ×¨×•××™×™×';
            if (code >= 0x1D400 && code <= 0x1D7FF) return '×¡××œ×™× ××ª××˜×™×™×';
            if (code >= 0x0600 && code <= 0x06FF) return '×¢×¨×‘×™×ª';
            return '×œ×˜×™× ×™×ª ××•×¨×—×‘×ª';
        }

        // ×©×™××•×© × ×¤×•×¥
        function getCommonUsage(original, fake) {
            const commonTargets = {
                'a': 'Google, PayPal',
                'e': 'Facebook, Netflix',
                'o': 'Microsoft, Amazon',
                'p': 'PayPal, Apple',
                'c': 'Microsoft',
                '0': '×›×ª×•×‘×•×ª ××ª×¨×™×',
                '1': '××¡×¤×¨×™ ×˜×œ×¤×•×Ÿ'
            };
            return commonTargets[original] || '×›×œ×œ×™';
        }

        // ×¡×™× ×•×Ÿ ×˜×‘×œ×”
        function filterTable() {
            const searchTerm = document.getElementById('tableSearch').value.toLowerCase();
            const rows = document.querySelectorAll('#tableBody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        // ×¤×•× ×§×¦×™×•×ª ×ª×‘× ×™×•×ª ×¤×™×©×™× ×’
        function showTemplate(templateId) {
            currentTemplate = templateId;
            const template = templates[templateId];
            
            document.getElementById('templateTitle').textContent = template.title;
            document.getElementById('templatePreview').innerHTML = template.html;
            document.getElementById('templateCode').textContent = template.html;
            document.getElementById('templateTips').textContent = template.tips;
            document.getElementById('templateViewer').style.display = 'block';
            
            document.getElementById('templateViewer').scrollIntoView({ behavior: 'smooth' });
        }

        function closeTemplate() {
            document.getElementById('templateViewer').style.display = 'none';
        }

        function copyTemplateCode() {
            const code = document.getElementById('templateCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                alert('×§×•×“ ×”×ª×‘× ×™×ª ×”×•×¢×ª×§ ×œ×œ×•×—!');
            }).catch(() => {
                const textArea = document.createElement('textarea');
                textArea.value = code;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('×§×•×“ ×”×ª×‘× ×™×ª ×”×•×¢×ª×§ ×œ×œ×•×—!');
            });
        }

        function downloadTemplate() {
            const template = templates[currentTemplate];
            const fullHtml = `<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${template.title} - ×ª×‘× ×™×ª ×œ×—×™× ×•×š</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .warning { background: #fff3cd; padding: 20px; border: 2px solid #ffc107; border-radius: 10px; margin-bottom: 20px; text-align: center; }
    </style>
</head>
<body>
    <div class="warning">
        <h2>âš ï¸ ×–×•×”×™ ×ª×‘× ×™×ª ×œ×—×™× ×•×š ×‘×œ×‘×“</h2>
        <p>×ª×‘× ×™×ª ×–×• ××™×•×¢×“×ª ×œ××˜×¨×•×ª ×—×™× ×•×›×™×•×ª ×•×œ×™××•×“ ×–×™×”×•×™ ×¤×™×©×™× ×’ ×‘×œ×‘×“</p>
        <p><strong>××¡×•×¨ ×œ×”×©×ª××© ×‘×” ×œ××˜×¨×•×ª ×”×•× ××” ××• ×¤×¢×™×œ×•×ª ×‘×œ×ª×™ ×—×•×§×™×ª</strong></p>
    </div>
    ${template.html}
    <div class="warning">
        <h3>××™×š ×œ×–×”×•×ª ×©×–×” ×¤×™×©×™× ×’:</h3>
        <p style="white-space: pre-line;">${template.tips}</p>
    </div>
</body>
</html>`;
            
            const blob = new Blob([fullHtml], { type: 'text/html; charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${currentTemplate}_phishing_template.html`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // ××ª×—×•×œ
        document.addEventListener('DOMContentLoaded', function() {
            // ×”×•×¡×£ event listeners ×œ×¨×“×™×• buttons
            const radioInputs = document.querySelectorAll('input[name="level"]');
            radioInputs.forEach(input => {
                input.addEventListener('change', function() {
                    // ×¢×“×›×Ÿ ×¢×™×¦×•×‘ ×›××©×¨ × ×‘×—×¨
                    radioInputs.forEach(r => r.parentElement.style.background = 'white');
                    if (this.checked) {
                        this.parentElement.style.background = 'linear-gradient(135deg, #667eea, #764ba2)';
                        this.parentElement.style.color = 'white';
                    }
                });
            });
        });
    </script>
</body>
</html>