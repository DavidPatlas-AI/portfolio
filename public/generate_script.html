<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>TrendOS - ×ª×¡×¨×™×˜ ××•×ª××</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fdf6e3;
      padding: 40px;
      direction: rtl;
    }
    .box {
      background: #fff;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
      max-width: 700px;
      margin: auto;
    }
    h2 {
      text-align: center;
      margin-bottom: 30px;
    }
    ul {
      padding: 0;
      list-style-type: none;
    }
    li {
      background: #f0f0f0;
      padding: 10px 15px;
      border-radius: 8px;
      margin-bottom: 10px;
    }
    .script-output {
      margin-top: 40px;
      padding: 20px;
      background-color: #e8ffe8;
      border: 2px dashed #66bb6a;
      border-radius: 10px;
      white-space: pre-wrap;
    }
    .copy-btn {
      margin: 20px auto;
      display: block;
      padding: 10px 20px;
      background-color: #ff9900;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="box">
    <h2>×”×˜×¨× ×“×™× ×©×‘×—×¨×ª</h2>
    <ul id="selectedTrends"></ul>

    <div class="script-output" id="generatedScript">
      <strong>ğŸ¬ ×ª×¡×¨×™×˜ ××•×ª×× ××™×©×™×ª ×™×•×¤×™×¢ ×›××Ÿ...</strong>
    </div>

    <button class="copy-btn" onclick="copyScript()">ğŸ“‹ ×”×¢×ª×§ ××ª ×”×ª×¡×¨×™×˜</button>
  </div>

  <script>
    const trends = JSON.parse(localStorage.getItem('selectedTrends')) || [];
    const userData = JSON.parse(localStorage.getItem('userProfile')) || { language: 'he' };
    const list = document.getElementById('selectedTrends');
    const output = document.getElementById('generatedScript');

    trends.forEach(trend => {
      const li = document.createElement('li');
      li.textContent = trend;
      list.appendChild(li);
    });

    function generateScript(lang = 'he') {
      const has = t => trends.some(v => v.includes(t));

      if (lang === 'he') {
        return `×”×™×•×¦×¨ ×”××•××œ×¥ ×©×œ ×”×™×•×:\n\nâš¡ ×–×” ×”×•×œ×š ×œ×”×™×•×ª ×ª×•×›×Ÿ ${has('×•×™×¨××œ×™') ? '×•×™×¨××œ×™ ×‘××™×•×—×“' : '×™×™×—×•×“×™'}.
ğŸ¨ ×‘×¢×™×¦×•×‘ ${has('×¢×™×¦×•×‘') ? '×—×“×©× ×™ ×•××¢×•×¨×¨ ×”×©×¨××”' : '×¤×©×•×˜ ×•× ×¢×™×'}.
ğŸ”¥ ×¢× × ×’×™×¢×” ×©×œ ${has('×—×') ? '×—×•× ××’× ×˜×™ ×©××©××™×¨ ×¦×¤×™×™×”' : '×¡×’× ×•×Ÿ ××™×©×™'}.
ğŸ“¢ ××ª××™× ×‘××™×•×—×“ ×œ-${has('×¤×¨×¡×•×') ? '××•×“×¢×•×ª ×××•×× ×•×ª' : '×¤×•×¡×˜×™× ××•×¨×’× ×™×™×'}.
ğŸ¯ ×”××¡×¨: "×ª×¤×•×¡ ××ª ×ª×©×•××ª ×”×œ×‘ â€“ ×‘×“×™×•×§ ×‘×–××Ÿ!"`;
      } else if (lang === 'en') {
        return `Today's recommended creator:\n\nâš¡ This will be a ${has('×•×™×¨××œ×™') ? 'super viral' : 'unique'} piece of content.
ğŸ¨ With a ${has('×¢×™×¦×•×‘') ? 'creative, inspiring design' : 'simple and clean look'}.
ğŸ”¥ A touch of ${has('×—×') ? 'magnetic heat to keep viewers watching' : 'personal flair'}.
ğŸ“¢ Perfect for ${has('×¤×¨×¡×•×') ? 'paid ads' : 'organic posts'}.
ğŸ¯ Message: "Catch the attention â€“ right on time!"`;
      } else if (lang === 'ru') {
        return `Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ½Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ:\n\nâš¡ Ğ­Ñ‚Ğ¾ Ğ±ÑƒĞ´ĞµÑ‚ ${has('×•×™×¨××œ×™') ? 'Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ñ‹Ğ¹' : 'ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹'} ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚.
ğŸ¨ Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½: ${has('×¢×™×¦×•×‘') ? 'ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¸ Ğ²Ğ´Ğ¾Ñ…Ğ½Ğ¾Ğ²Ğ»ÑÑÑ‰Ğ¸Ğ¹' : 'Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ğ¸ Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¹'}.
ğŸ”¥ Ğ¡ Ğ½Ğ¾Ñ‚ĞºĞ¾Ğ¹ ${has('×—×') ? 'Ñ‚ĞµĞ¿Ğ»Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ ÑƒĞ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ' : 'Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ¸Ğ»Ñ'}.
ğŸ“¢ ĞŸĞ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ ${has('×¤×¨×¡×•×') ? 'Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹' : 'Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ²'}.
ğŸ¯ ĞŸĞ¾ÑĞ»Ğ°Ğ½Ğ¸Ğµ: "ĞŸÑ€Ğ¸Ğ²Ğ»ĞµĞºĞ¸ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ â€“ Ğ²Ğ¾Ğ²Ñ€ĞµĞ¼Ñ!"`;
      }
    }

    if (trends.length > 0) {
      output.textContent = generateScript(userData.language);
    } else {
      output.innerHTML = '<em>×œ× × ×‘×—×¨×• ×˜×¨× ×“×™× ×¢×“×™×™×Ÿ...</em>';
    }

    function copyScript() {
      navigator.clipboard.writeText(output.textContent)
        .then(() => alert('×”×ª×¡×¨×™×˜ ×”×•×¢×ª×§ ×œ×–×™×›×¨×•×Ÿ'));
    }
  </script>
</body>
</html>
